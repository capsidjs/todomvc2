parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"P7I2":[function(require,module,exports) {
!function(){"use strict";var e,t,n,r,a,o,s=function(e){e.defaults=function(e){if(!e)return e;for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var a in r)null==e[a]&&(e[a]=r[a])}return e},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/,n={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},r=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(a,o,s){var i;s=e.defaults({},s,e.templateSettings);var c=new RegExp([(s.escape||t).source,(s.interpolate||t).source,(s.evaluate||t).source].join("|")+"|$","g"),u=0,l="__p+='";a.replace(c,function(e,t,o,s,i){return l+=a.slice(u,i).replace(r,function(e){return"\\"+n[e]}),t&&(l+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),o&&(l+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),s&&(l+="';\n"+s+"\n__p+='"),u=i+e.length,e}),l+="';\n",s.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{i=new Function(s.variable||"obj","_",l)}catch(p){throw p.source=l,p}if(o)return i(o,e);var f=function(t){return i.call(this,t,e)};return f.source="function("+(s.variable||"obj")+"){\n"+l+"}",f},e}({});function i(){var e=location.href.indexOf("examples/");return location.href.substr(0,e)}function c(e,t){if(!(this instanceof c))return new c(e,t);var n,r;if("object"!=typeof e)try{e=JSON.parse(e)}catch(a){return}t&&(n=t.template,r=t.framework),!n&&e.templates&&(n=e.templates.todomvc),!r&&document.querySelector("[data-framework]")&&(r=document.querySelector("[data-framework]").dataset.framework),this.template=n,e.backend?(this.frameworkJSON=e.backend,this.frameworkJSON.issueLabel=r,this.append({backend:!0})):e[r]&&(this.frameworkJSON=e[r],this.frameworkJSON.issueLabel=r,this.append()),this.fetchIssueCount()}"todomvc.com"===location.hostname&&(e=window,t=document,n="script",r="ga",e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(n),o=t.getElementsByTagName(n)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(a,o),ga("create","UA-31081062-1","auto"),ga("send","pageview")),c.prototype.append=function(e){var t=document.createElement("aside");if(t.innerHTML=s.template(this.template,this.frameworkJSON),t.className="learn",e&&e.backend){var n=t.querySelector(".source-links"),r=n.firstElementChild,a=n.lastElementChild,o=a.getAttribute("href");a.setAttribute("href",o.substr(o.lastIndexOf("http"))),n.innerHTML=r.outerHTML+a.outerHTML}else{var c=t.querySelectorAll(".demo-link");Array.prototype.forEach.call(c,function(e){"http"!==e.getAttribute("href").substr(0,4)&&e.setAttribute("href",i()+e.getAttribute("href"))})}document.body.className=(document.body.className+" learn-bar").trim(),document.body.insertAdjacentHTML("afterBegin",t.outerHTML)},c.prototype.fetchIssueCount=function(){var e=document.getElementById("issue-count-link");if(e){var t=e.href.replace("https://github.com","https://api.github.com/repos"),n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(t){var n=JSON.parse(t.target.responseText);if(n instanceof Array){var r=n.length;0!==r&&(e.innerHTML="This app has "+r+" open issues",document.getElementById("issue-count").style.display="inline")}},n.send()}},"tastejs.github.io"===location.hostname&&(location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com")),function(e,t){if(!location.host)return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.");var n=new XMLHttpRequest;n.open("GET",i()+e,!0),n.send(),n.onload=function(){200===n.status&&t&&t(n.responseText)}}("learn.json",c)}();
},{}],"h3iU":[function(require,module,exports) {

},{}],"zJD7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n={};function t(n,t){if(!n)throw new Error(t)}function e(e){t("string"==typeof e,"The name should be a string"),t(!!n[e],"The coelement of the given name is not registered: "+e)}var o="readystatechange",r=document,u=new Promise(function(n){var t=function(){"complete"===r.readyState&&(n(),r.removeEventListener(o,t))};r.addEventListener(o,t),t()}),c=function(t,o){var u;t?(e(t),u=[t]):u=Object.keys(n),u.map(function(t){[].map.call((o||r).querySelectorAll(n[t].sel),n[t])})},i="C$",a="K$",s="N$",f="B$",l=function(n,t){var e=new n;e.el=t;var o=n[f];return Array.isArray(o)&&o.forEach(function(n){n(t,e)}),"function"==typeof e.__mount__&&e.__mount__(),e},p=function(n,t,e){n[t]=(n[t]||[]).concat(e)},m=function(n,t){p(n,f,t)},v=function(e,o){t("string"==typeof e,"`name` of a class component has to be a string."),t("function"==typeof o,"`Constructor` of a class component has to be a function"),o[s]=e;var r=e+"-ðŸ’Š";m(o,function(n,t){n[i+e]=t,n.classList.add(e,r)});var a=function(n){n.classList.contains(r)||l(o,n)};a.sel="."+e+":not(."+r+")",n[e]=a,u.then(function(){c(e)})},d=function(n,o){e(n);var r=o[i+n];return t(r,"no coelement named: "+n+", on the dom: "+o.tagName),r},y=function(t,o){return e(t),n[t](o),d(t,o)},h=function(n,t){var e=d(n,t);"function"==typeof e.__unmount__&&e.__unmount__(),t.classList.remove(n,n+"-ðŸ’Š"),(e[a]||[]).forEach(function(n){n.remove()}),delete t[i+n],delete e.el},_=function(n,e){t("function"==typeof n.install,"The given capsid module does not have `install` method. Please check the install call."),n.install(T,e||{})},b=function(n,e){var o=(void 0===e?{}:e).at;return function(e,r,u){var c=e.constructor;t(!!n,"Empty event handler is given: constructor="+c.name+" key="+r),m(c,function(t,e){var u=function(n){o&&![].some.call(t.querySelectorAll(o),function(t){return t===n.target||t.contains(n.target)})||e[r](n)};u.remove=function(){t.removeEventListener(n,u)},p(e,a,u),t.addEventListener(n,u)})}},g=function(n){b[n]=b(n),b[n].at=function(t){return b(n,{at:t})}},x=function(n,t,e,o){var r=function(o){n.forEach(function(n){n.dispatchEvent(new CustomEvent(t,{detail:o,bubbles:e}))})};o&&o.then?o.then(r):r(o)},E=function(n){return function(e,o,r){var u=r.value,c=e.constructor;t(!!n,"Unable to emits an empty event: constructor="+c.name+" key="+o),r.value=function(){var t=u.apply(this,arguments);return x([this.el],n,!0,t),t}}},L=function(n){return function(t,e){Object.defineProperty(t.constructor.prototype,e,{get:function(){return this.el.querySelector(n)},configurable:!1})}},k=function(n){return function(t,e){Object.defineProperty(t.constructor.prototype,e,{get:function(){return this.el.querySelectorAll(n)},configurable:!1})}};L.all=k;var w=function(n){return t("string"==typeof n&&!!n,"Component name must be a non-empty string"),function(t){v(n,t)}},H=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){m(t,function(t){var e;(e=t.classList).add.apply(e,n)})}},A=function(n){return function(t){m(t,function(t){t.innerHTML=n,c(null,t)})}},M=function(n,e){return function(o,r,u){var c=u.value,i=o.constructor;t(!!n,"Unable to publish empty event: constructor="+i.name+" key="+r);var a=e||".sub\\:"+n;u.value=function(){var t=c.apply(this,arguments);return x([].concat.apply([],document.querySelectorAll(a)),n,!1,t),t}}},S=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){H.apply(void 0,n.map(function(n){return"sub:"+n}))(t)}};b.useHandler=g,b.useHandler("click");var T=Object.freeze({def:v,prep:c,make:y,mount:l,unmount:h,get:d,install:_,on:b,emits:E,wired:L,component:w,is:H,innerHTML:A,pub:M,sub:S,addMountHook:m,__ccc__:n});exports.def=v,exports.prep=c,exports.make=y,exports.mount=l,exports.unmount=h,exports.get=d,exports.install=_,exports.on=b,exports.emits=E,exports.wired=L,exports.component=w,exports.is=H,exports.innerHTML=A,exports.pub=M,exports.sub=S,exports.addMountHook=m,exports.__ccc__=n;
},{}],"fOe7":[function(require,module,exports) {
module.exports=require("./dist/capsid-cjs");
},{"./dist/capsid-cjs":"zJD7"}],"kBNW":[function(require,module,exports) {
"use strict";var t=this&&this.__spreadArrays||function(){for(var t=0,o=0,e=arguments.length;o<e;o++)t+=arguments[o].length;var n=Array(t),r=0;for(o=0;o<e;o++)for(var i=arguments[o],s=0,u=i.length;s<u;s++,r++)n[r]=i[s];return n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TodoCollection=exports.Todo=void 0;var o=function(){function t(t,o,e){this.id=t,this.title=o,this.completed=e}return t.prototype.toggle=function(){this.completed=!this.completed},t}();exports.Todo=o;var e="capsidjs-todomvc2",n=function(){function n(t){void 0===t&&(t=[]),this.todos=t}return n.prototype.getById=function(t){return this.todos.find(function(o){return o.id===t})},n.prototype.remove=function(t){this.todos=this.todos.filter(function(o){return o.id!==t.id})},n.prototype.add=function(t){this.todos.push(t)},Object.defineProperty(n.prototype,"length",{get:function(){return this.todos.length},enumerable:!1,configurable:!0}),n.prototype.has=function(t){return this.todos.some(function(o){return o.id===t.id})},n.prototype.completed=function(){return new n(this.todos.filter(function(t){return t.completed}))},n.prototype.uncompleted=function(){return new n(this.todos.filter(function(t){return!t.completed}))},n.prototype.completeAll=function(){this.todos.forEach(function(t){t.completed=!0})},n.prototype.uncompleteAll=function(){this.todos.forEach(function(t){t.completed=!1})},n.prototype.forEach=function(t){this.todos.forEach(t)},n.prototype.toJSON=function(){return JSON.stringify(this.todos)},n.fromJson=function(t){return new n(JSON.parse(t).map(function(t){var e=t.id,n=t.title,r=t.completed;return new o(e,n,r)}))},n.prototype.save=function(){localStorage.setItem(e,this.toJSON())},n.restore=function(){return n.fromJson(localStorage.getItem(e)||"[]")},n.prototype.maxId=function(){return Math.max.apply(Math,t([0],this.todos.map(function(t){return+t.id})))},n}();exports.TodoCollection=n;
},{}],"xE2A":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=this&&this.__decorate||function(e,o,i,l){var n,d=arguments.length,r=d<3?o:null===l?l=Object.getOwnPropertyDescriptor(o,i):l;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,o,i,l);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(d<3?n(r):d>3?n(o,i,r):n(o,i))||r);return d>3&&r&&Object.defineProperty(o,i,r),r};Object.defineProperty(exports,"__esModule",{value:!0});var o=require("capsid"),i=require("./todo-models"),l=0,n=function(){function t(){var t=this;this.todos=i.TodoCollection.restore(),l=this.todos.maxId()+1,this.filter="all",window.onhashchange=function(){t.onChangeFilter()}}return t.prototype.__mount__=function(){this.onChangeFilter()},t.prototype.onNewTodoInput=function(t){var e;if(13===t.which){var o=null===(e=this.newTodoInput.value)||void 0===e?void 0:e.trim();o&&(this.newTodoInput.value="",this.addTodo(new i.Todo(""+l++,o,!1)))}},t.prototype.addTodo=function(t){this.todos.add(t)},t.prototype.check=function(t){var e;null===(e=this.todos.getById(t.target.parentElement.parentElement.id))||void 0===e||e.toggle()},t.prototype.toggleAll=function(t){t.target.checked?this.todos.completeAll():this.todos.uncompleteAll()},t.prototype.destroy=function(t){var e=this.todos.getById(t.target.parentElement.parentElement.id);this.todos.remove(e)},t.prototype.clearCompleted=function(){var t=this;this.todos.completed().forEach(function(e){t.todos.remove(e)})},t.prototype.startEditing=function(t){var e=t.target.parentElement.parentElement,o=this.todos.getById(e.id);e.classList.add("editing");var i=e.querySelector(".edit");i.value=o.title,i.focus()},t.prototype.onCancelOrFinishEditing=function(t){13===t.which?t.target.blur():27===t.which&&(t.target.value=this.todos.getById(t.target.parentElement.id).title,t.target.blur())},t.prototype.onFocusOut=function(t){this.finishEditing(t.target.value,t.target.parentElement)},t.prototype.finishEditing=function(t,e){(t=t.trim())?(this.todos.getById(e.id).title=t,e.classList.remove("editing")):(this.todos.remove(this.todos.getById(e.id)),e.classList.remove("editing"))},t.prototype.getFilterFromString=function(t){switch(t){case"active":return"active";case"completed":return"completed";default:return"all"}},t.prototype.onChangeFilter=function(){this.filter=this.getFilterFromString(location.hash.slice(2)),this.allFilterButton.classList.toggle("selected","all"===this.filter),this.activeFilterButton.classList.toggle("selected","active"===this.filter),this.completedFilterButton.classList.toggle("selected","completed"===this.filter)},t.prototype.onUpdateTodo=function(){var t=this;this.todos.save();var e=this.todos.uncompleted(),o=this.todos.completed();if(this.todoCount.textContent=""+e.length,this.todoCountPlural.classList.toggle("hidden",1===e.length),this.mainArea.classList.toggle("hidden",0===this.todos.length),this.footer.classList.toggle("hidden",0===this.todos.length),this.toggleAllCheckbox.classList.toggle("hidden",0===this.todos.length),this.toggleAllLabel.classList.toggle("hidden",0===this.todos.length),this.toggleAllCheckbox.checked=0===e.length,this.clearCompletedButton.classList.toggle("hidden",0===o.length),"all"===this.filter&&this.todos.length===this.todoList.children.length)this.todos.forEach(function(e){var o=t.todoList.querySelector('[id="'+e.id+'"]');o.classList.toggle("completed",e.completed),o.querySelector("label").textContent=e.title,o.querySelector(".toggle").checked=e.completed});else{var i="active"===this.filter?e:"completed"===this.filter?o:this.todos;this.todoList.innerHTML="",i.forEach(function(e){var o=document.createElement("li");o.innerHTML='\n\t\t\t\t\t<div class="view">\n\t\t\t\t\t\t<input class="toggle" type="checkbox" '+(e.completed?"checked":"")+"/>\n\t\t\t\t\t\t<label>"+e.title+'</label>\n\t\t\t\t\t\t<button class="destroy"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input class="edit" type="text" />\n\t\t\t\t',o.id=e.id,o.classList.add("todo"),o.classList.toggle("completed",e.completed),t.todoList.appendChild(o)})}},e([o.wired(".new-todo")],t.prototype,"newTodoInput",void 0),e([o.wired(".main")],t.prototype,"mainArea",void 0),e([o.wired(".todo-list")],t.prototype,"todoList",void 0),e([o.wired(".toggle-all")],t.prototype,"toggleAllCheckbox",void 0),e([o.wired('label[for="toggle-all"]')],t.prototype,"toggleAllLabel",void 0),e([o.wired(".footer")],t.prototype,"footer",void 0),e([o.wired(".todo-count strong")],t.prototype,"todoCount",void 0),e([o.wired(".todo-count .plural")],t.prototype,"todoCountPlural",void 0),e([o.wired('a[href="#/all"]')],t.prototype,"allFilterButton",void 0),e([o.wired('a[href="#/active"]')],t.prototype,"activeFilterButton",void 0),e([o.wired('a[href="#/completed"]')],t.prototype,"completedFilterButton",void 0),e([o.wired(".clear-completed")],t.prototype,"clearCompletedButton",void 0),e([o.emits("update-todo")],t.prototype,"__mount__",null),e([o.on("keypress",{at:".new-todo"})],t.prototype,"onNewTodoInput",null),e([o.emits("update-todo")],t.prototype,"addTodo",null),e([o.emits("update-todo"),o.on.click.at(".toggle")],t.prototype,"check",null),e([o.emits("update-todo"),o.on.click.at(".toggle-all")],t.prototype,"toggleAll",null),e([o.emits("update-todo"),o.on.click.at(".destroy")],t.prototype,"destroy",null),e([o.emits("update-todo"),o.on.click.at(".clear-completed")],t.prototype,"clearCompleted",null),e([o.on("dblclick",{at:".todo > .view > label"})],t.prototype,"startEditing",null),e([o.on("keypress",{at:".edit"}),o.on("keydown",{at:".edit"})],t.prototype,"onCancelOrFinishEditing",null),e([o.on("focusout",{at:".edit"})],t.prototype,"onFocusOut",null),e([o.emits("update-todo")],t.prototype,"finishEditing",null),e([o.emits("update-todo")],t.prototype,"onChangeFilter",null),e([o.on("update-todo")],t.prototype,"onUpdateTodo",null),t=e([o.component("todoapp")],t)}();
},{"capsid":"fOe7","./todo-models":"kBNW"}],"B6dB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("todomvc-common/base.js"),require("todomvc-common/base.css"),require("todomvc-app-css/index.css"),require("./todoapp");
},{"todomvc-common/base.js":"P7I2","todomvc-common/base.css":"h3iU","todomvc-app-css/index.css":"h3iU","./todoapp":"xE2A"}]},{},["B6dB"], null)
//# sourceMappingURL=src.50b7b13a.js.map